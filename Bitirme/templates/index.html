<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HackerNews Spark Analizi</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Menü Çubuğu -->
    <nav class="menu-bar">
        <div class="container menu-container">
            <button class="menu-toggle" id="menu-toggle">☰ Menü</button>
            <ul class="menu-list" id="menu-list">
                <li><a href="#" class="menu-link" data-page="home">Anasayfa</a></li>
                <li><a href="#" class="menu-link" data-page="ai-articles">AI Makaleleri</a></li>
                <li><a href="#" class="menu-link" data-page="top-authors">En Aktif Yazarlar</a></li>
                <li><a href="#" class="menu-link" data-page="top-articles">En Yüksek Puanlılar</a></li>
                <li><a href="#" class="menu-link" data-page="search">Arama & Filtreleme</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <!-- Anasayfa Bölümü -->
        <div id="home-page" class="page-section active">
            <!-- İstatistikler -->
            <section class="stats-section">
                <h2>İstatistikler</h2>
                <div class="stats-grid">
                    <div class="stat-card loading">
                        <h3>Toplam Makale Sayısı</h3>
                        <p class="stat-value" id="total-articles">-</p>
                    </div>
                    <div class="stat-card loading">
                        <h3>Yazar Bilgisi Olan</h3>
                        <p class="stat-value" id="with-author">-</p>
                    </div>
                </div>
            </section>

            <!-- En Yüksek Puan Alan 10 Makale (Anasayfa) -->
            <section class="data-section">
                <h2>En Yüksek Puanlı 10 Makale</h2>
                <div id="home-top-articles" class="data-grid loading">
                    <p>Yükleniyor...</p>
                </div>
            </section>
        </div>

        <!-- Arama ve Filtreleme Sayfası -->
        <div id="search-page" class="page-section">
            <section class="data-section">
                <h2>Arama ve Filtreleme</h2>
                <form id="search-form" class="search-form">
                    <div class="form-group">
                        <label for="keyword">Başlıkta ara</label>
                        <input type="text" id="keyword" name="keyword" placeholder="Örn: AI, database" />
                    </div>
                    <div class="form-group">
                        <label for="author">Yazar</label>
                        <input type="text" id="author" name="author" placeholder="Örn: pg" />
                    </div>
                    <div class="form-group">
                        <label for="sort">Sıralama</label>
                        <select id="sort" name="sort">
                            <option value="date_desc">Tarih (Yeni → Eski)</option>
                            <option value="date_asc">Tarih (Eski → Yeni)</option>
                            <option value="points_desc">Puan (Yüksek → Düşük)</option>
                            <option value="points_asc">Puan (Düşük → Yüksek)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-primary">Ara</button>
                </form>

                <div id="search-results" class="data-grid loading">
                    <p>Sonuçlar burada görünecek</p>
                </div>
                <div class="load-more-container hidden" id="load-more-container">
                    <button class="btn-secondary" id="load-more-btn">Daha Fazla Göster (20+)</button>
                </div>
            </section>
        </div>

        <!-- AI Makaleleri Sayfası -->
        <div id="ai-articles-page" class="page-section">
            <section class="data-section">
                <h2>AI ile İlgili Makaleler</h2>
                <div id="ai-articles" class="data-grid loading">
                    <p>Yükleniyor...</p>
                </div>
            </section>
        </div>

        <!-- En Çok Yorumlanan Hikayeler Sayfası -->
        <div id="top-stories-page" class="page-section">
            <section class="data-section">
                <h2>En Çok Yorumlanan Hikayeler</h2>
                <div id="top-stories" class="data-grid loading">
                    <p>Yükleniyor...</p>
                </div>
            </section>
        </div>

        <!-- En Aktif Yazarlar Sayfası -->
        <div id="top-authors-page" class="page-section">
            <section class="data-section">
                <h2>En Aktif Yazarlar</h2>
                <div id="top-authors" class="data-grid loading">
                    <p>Yükleniyor...</p>
                </div>
            </section>
        </div>

        <!-- En Puanlı Makaleler Sayfası -->
        <div id="top-articles-page" class="page-section">
            <section class="data-section">
                <h2>En Yüksek Puanlı Makaleler</h2>
                <div id="top-articles" class="data-grid loading">
                    <p>Yükleniyor...</p>
                </div>
            </section>
        </div>

        <!-- Loading Indicator -->
        <div id="loading-spinner" class="loading-spinner hidden">
            <div class="spinner"></div>
            <p>Veriler yükleniyor...</p>
        </div>

        <!-- Error Messages -->
        <div id="error-message" class="error-message hidden"></div>
    </div>

    <footer>
        <p>&copy; 2025 HackerNews Spark Analizi | MongoDB ve PySpark ile yapılmıştır</p>
    </footer>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
